<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:body>

	<ui:composition xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:c="http://java.sun.com/jsp/jstl/core"
		xmlns:p="http://primefaces.org/ui" xmlns:pe="http://primefaces.org/ui">
		<div id="comparespectra"
			style="width: 90%; margin-left: auto; margin-right: auto;">

			<h:form id="spectrumViewForm">
				<h:panelGrid columns="2">
					<h:panelGrid columns="1" id="peakListPanel">
						<h3 style="margin-top: 0">Peaklist 1</h3>
						<p:inputTextarea rows="10" cols="20" autoResize="false"
							value="#{compareSpectraBean.peakList1}" required="true"
							style="resize: none" id="peakListInput1">
						</p:inputTextarea>
						<h3 style="margin-top: 30px">Peaklist 2</h3>
						<p:inputTextarea rows="10" cols="20" autoResize="false"
							value="#{compareSpectraBean.peakList2}" required="true"
							style="resize: none" id="peakListInput2">
						</p:inputTextarea>
						<p:commandButton style="height: 25px; font-size: 0.9em"
							value="Show Spectra"
							actionListener="#{compareSpectraBean.generateSpectrumModelViewListener}"
							id="showSpectrumView" onclick="" update="@form">
						</p:commandButton>
					</h:panelGrid>
					<h:panelGrid id="spectraViewPanel" columns="1">
						<p:chart style="height:300px; width:700px;" type="line"
							model="#{compareSpectraBean.spectrumModel}"
							widgetVar="spectrumChart">
							<script type="text/javascript">
								function spectrumViewExtender() {
											this.cfg.seriesDefaults = {
												rendererOptions : {
													lineWidth : 1
												},
												markerOptions : {
													show : true,
													style : 'dash',
													lineWidth : 1.5,
													size : 4,
													shadow : true
												},
											},
											this.cfg.cursor = {
												show : true,
												zoom : true,
												constrainZoomTo : 'x'
											},
											this.cfg.highlighter = {
												show : true,
												showMarker : false,
												tooltipAxes : 'xy',
												yvalues : 2,
												formatString : '<table style="background-color: white;" class="jqplot-highlighter"> \
						        <tr><td>m/z:</td><td>%.2f</td></tr> \
						        <tr><td>int:</td><td>%s</td></tr></table>'
											}
								}
							</script>
						</p:chart>
					</h:panelGrid>
				</h:panelGrid>
			</h:form>

		</div>

	</ui:composition>

</h:body>

</html>